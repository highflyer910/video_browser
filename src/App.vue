<template>
	<div class="container">
		<SearchBar @termChange="onTermChange"></SearchBar>
		<VideoList :videos="videos"></VideoList>
	</div>
</template>

<script>
	import axios from 'axios';
    import SearchBar from './components/SearchBar';
    import VideoList from './components/VideoList';
    import VideoListItem from './components/VideoListItem';
    const API_KEY = 'AIzaSyAekfRS0Hps1k4mCYSUHzv0V7dVVxKVqdg';

	export default{
		name: 'App',
		components: {
			SearchBar,
			VideoList,
			VideoListItem
		},
		data() {
          return {
             videos: []
          };
		},
		methods: {
			onTermChange(searchTerm){
               axios.get('https://www.googleapis.com/youtube/v3/search', {
               	params: {
               		key: API_KEY,
               		type: 'video',
               		part: 'snippet',
               		q: searchTerm
               	}
              }).then(response => {
              	this.videos = response.data.items;
              });
			}
		}

	};
</script>